<?xml version="1.0" encoding="UTF-8"?>
<database name="dev_phpindonesia" defaultIdMethod="native" tablePrefix="phpid_">
    <!-- table definitions go here -->
    <table name="users" description="User Table" namespace="\app\Models" phpName="User">
        <column name="uid" required="true" type="INTEGER" sqlType="int(10) unsigned" size="10" primaryKey="true" autoIncrement="true" />
        <column name="name" required="true" type="VARCHAR" size="60"  description="Unique user name." />
        <validator column="name">
            <rule name="minLength"  value="5"  message="Username harus lebih dari ${value} karakter." />
            <rule name="maxLength"  value="60"  message="Username tidak boleh lebih dari ${value} karakter." />
            <rule name="match" value="/^[a-zA-Z][a-zA-Z0-9_]+$/" message="Username yang anda masukkan salah. hanya huruf, angka, dan underscore yang diizinkan." />
            <rule name="unique" message="Username sudah digunakan." />
        </validator>
        <column name="pass" type="VARCHAR" size="128" required="true" defaultValue="" description="User's password (hashed)." />
        <validator column="pass">
            <rule name="minLength"  value="5"  message="Katasandi harus lebih dari ${value} karakter." />
        </validator>
        <column name="mail" type="VARCHAR" size="320" defaultValue="" />
        <validator column="mail">
            <!-- allow strings that match the email address pattern -->
            <rule name="match" value="/^([a-zA-Z0-9])+([\.a-zA-Z0-9_-])*@([a-zA-Z0-9])+(\.[a-zA-Z0-9_-]+)+$/" message="Silakan masukkan alamat email dengan benar." />
            <rule name="maxLength"  value="320"  message="email tidak boleh lebih dari ${value} karakter." />
        </validator>
        <column name="theme" type="VARCHAR" size="255" required="true" defaultValue=""  description="User's default theme." />
        <column name="signature" type="VARCHAR" size="255" required="true" defaultValue=""  description="User's signature." />
        <column name="signature_format" type="VARCHAR" size="255" defaultValue="NULL" description="The phpid_filter_format.format of the signature." />
        <column name="created" type="INTEGER" required="true" defaultValue="0" description="Timestamp for when user was created." />
        <column name="access" type="INTEGER" required="true" defaultValue="0" description="Timestamp for previous time user accessed the site." />
        <column name="login" type="INTEGER" required="true" defaultValue="0" description="Timestamp for user's last login." />
        <column name="status" type="TINYINT" required="true" defaultValue="0" description="Whether the user is active(1) or blocked(0)." />
        <column name="timezone" type="VARCHAR" defaultValue="NULL" description="User's time zone." />
        <column name="language" type="VARCHAR" required="true" defaultValue="" description="User's default language." />
        <column name="picture" type="INTEGER" required="true" defaultValue="0" description="Foreign key: phpid_file_managed.fid of user's picture." />
        <column name="init" type="VARCHAR" size="254" defaultValue=""  description="E-mail address used for initial account creation." />
        <validator column="init">
            <!-- allow strings that match the email address pattern -->
            <rule name="match" value="/^([a-zA-Z0-9])+([\.a-zA-Z0-9_-])*@([a-zA-Z0-9])+(\.[a-zA-Z0-9_-]+)+$/" message="Silakan masukkan alamat email dengan benar." />
            <rule name="maxLength"  value="254"  message="email tidak boleh lebih dari ${value} karakter." />
        </validator>        
        <column name="data" type="longvarbinary" defaultValue="null" />
        <!-- Creating indicies -->
        <unique name="name">
            <unique-column name="name" />
        </unique>
        <index name="access">
            <index-column name="access" />
        </index>
        <index name="created">
            <index-column name="created" />
        </index>
        <index name="mail">
            <index-column name="mail" size="255" />
        </index>
        <index name="picture">
            <index-column name="picture" />
        </index>
    </table>
</database>
